//Latest changes untested, last test the ReachSpecificOrbit parameter was being completed for almost any equatorial orbit, maybe due to lacking orbital parameters
CONTRACT_TYPE{
	name = WeatherSat
	title = WeatherSat
	genericTitle = TBD
	group = CleverSat
	
	description = TBD
	genericDescription = TBD
	synopsis = TBD
	completedMessage = TBD
	
	minExpiry = 10 //TBD
	maxExpiry = 10 //TBD
	deadline = 10 //TBD
	
	prestige = Significant //Exceptional
	targetBody = HomeWorld()
	maxSimultaneous = 1
	
	rewardScience = 0.0
	rewardReputation = 1 //TBD
	rewardFunds = 1 //TBD
	failureReputation = 1 //TBD
	failureFunds = 1 //TBD
	advanceFunds = 1 //TBD
	
	DATA{ //Random value to be used as percentual chance for the orbital type
		type = int
		TPE = Random(0,100)
	}
	
	PARAMETER{
		name = SatOrbit
		type = VesselParameterGroup
		defineList = SatList
		disableOnStateChange = false
		
		PARAMETER{
			name = HasCrewCapacity
			type = HasCrewCapacity
			maxCapacity = 0
		}
		
		PARAMETER{
			name = ReachSpecificOrbit
			type = ReachSpecificOrbit
			index = 0
			deviationWindow = 5.0 //Fine tune
			disableOnStateChange = false
		}
	}

	PARAMETER{
		name = Duration_1
		type = Duration
		duration = 6h //Fine tune
		preWaitText = TBD
		waitingText = TBD
		completionText = TBD
		startCriteria = PARAMETER_COMPLETION
		parameter = ReachSpecificOrbit
	}

	PARAMETER{ //Should also be included in a VesselParameterGroup?
		name = VisitWaypoint
		type = VisitWaypoint
		index = 0
		distance = 301850 //About 10 degrees
		horizontalDistance = 301850 //Needed?
		showMessages = true
		disableOnStateChange = false
		optional = @/TPE > 10 ? false : true //When TPE <= 10 the orbit will be polar, so the waypoint is useless, being optional make it not needed for contract completion
	}

	PARAMETER{
		name = Duration_2
		type = Duration
		duration = 60s //Fine tune
		preWaitText = TBD
		waitingText = TBD
		completionText = TBD
		startCriteria = PARAMETER_COMPLETION
		parameter = VisitWaypoint
		optional = @/TPE > 10 ? false : true //When TPE <= 10 the orbit will be polar, so the waypoint is useless, being optional make it not needed for contract completion
	}

	BEHAVIOUR{ //Generates the orbit based on the value of TPE
		name = OrbitGenerator
		type = OrbitGenerator
		
		RANDOM_ORBIT{
			type = @/TPE > 50 ? STATIONARY : POLAR //Fine tune percentages
			deviationWindow = 8.0
		}
	}

	BEHAVIOUR{ //Generate the waypoint representing the region that the sat must be above
		name = WaypointGenerator
		type = WaypointGenerator
		
		RANDOM_WAYPOINT{
			name = Convered Region
			count = 1
			icon = thermometer //Change later
			altitude = 2863334,06
			forceEquatorial = true
		}
	}
	
	REQUIREMENT{
		name = Any
		type = Any
		REQUIREMENT{
			name = PartModuleUnlocked
			type = PartModuleUnlocked
			partModule = ModuleDeployableSolarPanel
		}
	}

	REQUIREMENT{
		name = Probe
		type = PartUnlocked
		part = probeCoreSphere //Or a better one?
	}
}