//OrbitGenerator working fine, waypoint generator not (need to find a way to use orbital parameters)
CONTRACT_TYPE{
	name = SpySat
	title = SpySat
	genericTitle = TBD
	group = CleverSat

	description = TBD
	genericDescription = TBD
	synopsis = TBD
	completedMessage = TBD
	
	minExpiry = 10 //TBD
	maxExpiry = 10 //TBD
	deadline = 10 //TBD

	prestige = Significant //Exceptional
	targetBody = HomeWorld()
	maxSimultaneous = 1

	rewardScience = 0.0
	rewardReputation = 1 //TBD
	rewardFunds = 1 //TBD
	failureReputation = 1 //TBD
	failureFunds = 1 //TBD
	advanceFunds = 1 //TBD

	DATA{ //Random value to be used as percentual chance for the orbital type
		type = int
		TPE = Random(0,100)
	}
	
	PARAMETER{
		name = SatOrbit
		type = VesselParameterGroup
		defineList = SatList
		disableOnStateChange = false
		
		PARAMETER{
			name = HasCrewCapacity
			type = HasCrewCapacity
			maxCapacity = 0
		}
		
		PARAMETER{
			name = ReachSpecificOrbit
			type = ReachSpecificOrbit
			deviationWindow = 3.0 //Fine tune
		}
	}
	
	PARAMETER{ //Should also be included in a VesselParameterGroup?
		name = VisitWaypoint
		type = VisitWaypoint
		index = 0
		distance = 301850 //About 10 degrees
		horizontalDistance = 301850 //Needed?
		showMessages = true
		disableOnStateChange = false
		//optional = @/TPE > 10 ? false : true //When TPE <= 10 the orbit will be polar, so the waypoint is useless, being optional make it not needed for contract completion
	}

	BEHAVIOUR{ //Generates the orbit based on the value of TPE
		name = SpySatOrbitPicker
		type = OrbitGenerator
		
		RANDOM_ORBIT{
			type = @/TPE > 50 ? STATIONARY : KOLNIYA//Fine tune percentages
			deviationWindow = 8.0
		}
	}
	
	BEHAVIOUR{//wrong latitue for kolniya
		name = WaypointGenerator
		type = WaypointGenerator

		WAYPOINT{
			name = Spied place
			icon = thermometer //change
			altitude = @/TPE > 50 ? 2863334.06 : 3060027
			latitude = @/TPE > 50 ? 0 : 63.4
			longitude = Random(-180,180)
		}
	}
	
	REQUIREMENT{
		name = PartUnlocked_1
		type = PartUnlocked
		part = commDish
	}
}